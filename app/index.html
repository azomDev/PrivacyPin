<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<script type="module">
			import Alpine from "alpinejs";
			window.Alpine = Alpine;
			Alpine.start();
		</script>
		<link rel="stylesheet" href="/src/styles.css" />
	</head>

	<body>
		<div class="card">
			<div class="header">
				<div class="icon-circle">
					<img src="./src/assets/pin.svg" alt="Pin Icon" />
				</div>
				<h1>Position Share</h1>
				<p>Connect with your server to start sharing</p>
			</div>

			<!-- x-data connects this element to the signupState Alpine component, enabling its data (serverAddress and signupKey) and functions (signup and scanQR) to work within it :) -->
			<div class="actions" x-data="signupState">
				<div>
					<label for="server">Server Address</label>
					<input id="server" type="url" placeholder="https://your-server.com" x-model="serverAddress" required />
				</div>

				<div>
					<label for="key">Signup Key</label>
					<input id="key" type="password" placeholder="Enter your signup key" x-model="signupKey" required />
				</div>

				<p class="hint">Scan a QR code to automatically fill both server address and signup key</p>
				<button type="button" class="btn-qr" @click="scanQR">
					<img src="./src/assets/qr.svg" alt="QR Icon" />
					Scan QR Code
				</button>

				<button class="btn-primary" @click="signup">Connect</button>
			</div>
		</div>

		<script>
			function signupState() {
				return {
					serverAddress: "",
					signupKey: "",
					// we have the functions within a bigger function because this is how we can access the variables we define (by using this.variableWeWant)
					signup() {
						alert(this.serverAddress);
					},
					scanQR() {
						alert(this.signupKey);
					},
				};
			}
		</script>
	</body>
</html>
